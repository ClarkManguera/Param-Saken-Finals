<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Param Saken - Book Rental (Toyota Innova)</title>
    <link rel="stylesheet" href="bookings.css"> 
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <header class="navbar">
        <div class="logo">
            <img src="img/logoblacktransperent.png" alt="Param Saken Logo"> 
            <span>Param Saken</span>
        </div>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="innova.html" class="active">Book Now</a></li> 
                <li><a href="about.html">About Us</a></li>
                <li><a href="profile.html">Profile</a></li>
                <li><a href="settings.html">Settings</a></li>
            </ul>
        </nav>
    </header>

    <main class="booking-page">
        
        <div class="step-indicator-wrapper">
            <div class="step-indicator" id="stepIndicator">
                <div class="step step-active" id="stepCircle1">1</div> 
                
                <div class="step-line" id="stepLine1"></div>
                
                <div class="step" id="stepCircle2">2</div>
                
                <div class="step-line" id="stepLine2"></div>
                
                <div class="step" id="stepCircle3">3</div>
            </div>
            <p class="step-label" id="stepLabel">Step 1 of 3: Rental Details</p>
        </div>
        
        <div class="booking-content-container">
            
            <div class="rental-details-card">
                <h2 class="card-title">Rental Details</h2>
                
                <div id="step1">
                    <form action="#" method="post" class="rental-form">
                        
                        <div class="form-group-row">
                            <div class="form-group">
                                <label for="pickupLocation">Pickup Location</label>
                                <div class="input-icon-wrapper">
                                    <span class="input-icon location-icon"></span>
                                    <input type="text" id="pickupLocation" name="pickupLocation" value="Angeles City" class="input-text">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="dropoffLocation">Drop-off Location</label>
                                <div class="input-icon-wrapper">
                                    <span class="input-icon location-icon"></span>
                                    <input type="text" id="dropoffLocation" name="dropoffLocation" value="Angeles City" class="input-text">
                                </div>
                            </div>
                        </div>

                        <div class="form-group-row">
                            <div class="form-group">
                                <label for="pickupDate">Pickup Date</label>
                                <div class="input-icon-wrapper">
                                    <span class="input-icon calendar-icon"></span>
                                    <input type="date" id="pickupDate" name="pickupDate" value="2025-10-20" class="input-text">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="returnDate">Return Date</label>
                                <div class="input-icon-wrapper">
                                    <span class="input-icon calendar-icon"></span>
                                    <input type="date" id="returnDate" name="returnDate" value="2025-10-21" class="input-text">
                                </div>
                            </div>
                        </div>

                        <div class="form-group-row">
                            <div class="form-group">
                                <label for="pickupTime">Pickup Time</label>
                                <div class="input-icon-wrapper">
                                    <span class="input-icon time-icon"></span>
                                    <input type="time" id="pickupTime" name="pickupTime" value="10:00" class="input-text">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="returnTime">Return Time</label>
                                <div class="input-icon-wrapper">
                                    <span class="input-icon time-icon"></span>
                                    <input type="time" id="returnTime" name="returnTime" value="10:00" class="input-text">
                                </div>
                            </div>
                        </div>

                        <div class="form-group-full-width button-center-wrapper">
                            <button type="button" class="btn-next" onclick="nextStep()">Next</button>
                        </div>
                    </form>
                </div>

                <div id="step2" style="display: none;">
                    <form action="#" method="post" class="rental-form">
                        
                        <div class="form-group-row">
                            <div class="form-group">
                                <label for="firstName">First Name</label>
                                <input type="text" id="firstName" name="firstName" value="Juan" class="input-text">
                            </div>
                            <div class="form-group">
                                <label for="lastName">Last Name</label>
                                <input type="text" id="lastName" name="lastName" value="Dela Cruz" class="input-text">
                            </div>
                        </div>

                        <div class="form-group-row">
                            <div class="form-group">
                                <label for="email">Email Address</label>
                                <input type="email" id="email" name="email" value="juan@email.com" class="input-text">
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone Number</label>
                                <input type="tel" id="phone" name="phone" value="+63 917 123 4567" class="input-text">
                            </div>
                        </div>

                        <div class="form-group-row">
                            <div class="form-group" style="flex: none; width: 100%;">
                                <label for="license">Driver's License Number</label>
                                <input type="text" id="license" name="license" value="N01-12-123456" class="input-text">
                            </div>
                        </div>

                        <div class="form-group-row">
                            <div class="form-group" style="flex: none; width: 100%;">
                                <label for="address">Complete Address:</label>
                                <input type="text" id="address" name="address" value="123 Main Street, Angeles City, Pampanga" class="input-text">
                            </div>
                        </div>

                        <div class="form-group-row" style="justify-content: space-between; margin-top: 10px;">
                            <button type="button" class="btn-previous" onclick="prevStep()">Previous</button>
                            <button type="button" class="btn-next" onclick="nextStep()">Next</button> 
                        </div>
                    </form>
                </div>

                <div id="step3" style="display: none;">
                    <form action="#" method="post" class="rental-form">
                        <h3 class="payment-card-title">Payment Method</h3>

                        <div class="payment-methods-group">
                            <label class="payment-option">
                                <input type="radio" name="paymentMethod" value="card" checked onchange="togglePaymentDetails()">
                                <div class="option-content">
                                    <span class="option-radio-dot"></span>
                                    <div class="option-details">
                                        <h4>Credit/Debit Card</h4>
                                        <p>Visa, Mastercard, JCB</p>
                                    </div>
                                    <img src="img/card-icons.png" alt="Card Icons" class="payment-icon-small">
                                </div>
                            </label>

                            <label class="payment-option">
                                <input type="radio" name="paymentMethod" value="gcash" onchange="togglePaymentDetails()">
                                <div class="option-content">
                                    <span class="option-radio-dot"></span>
                                    <div class="option-details">
                                        <h4>GCash</h4>
                                        <p>Pay with your GCash wallet</p>
                                    </div>
                                    <img src="img/gcash-logo.png" alt="GCash" class="payment-icon-small"> 
                                </div>
                            </label>

                            <label class="payment-option">
                                <input type="radio" name="paymentMethod" value="paymaya" onchange="togglePaymentDetails()">
                                <div class="option-content">
                                    <span class="option-radio-dot"></span>
                                    <div class="option-details">
                                        <h4>PayMaya</h4>
                                        <p>Pay with your PayMaya account</p>
                                    </div>
                                    <img src="img/paymaya-logo.png" alt="PayMaya" class="payment-icon-small">
                                </div>
                            </label>

                            <label class="payment-option">
                                <input type="radio" name="paymentMethod" value="banktransfer" onchange="togglePaymentDetails()">
                                <div class="option-content">
                                    <span class="option-radio-dot"></span>
                                    <div class="option-details">
                                        <h4>Bank Transfer</h4>
                                        <p>Direct bank transfer</p>
                                    </div>
                                    <img src="img/bank-logo.png" alt="Bank Transfer" class="payment-icon-small">
                                </div>
                            </label>
                        </div>
                        
                        <div class="card-details-section" id="cardDetailsSection">
                            <h3 class="payment-card-title">Card Details</h3>
                            
                            <div class="card-input-group">
                                <div class="form-group-full-width">
                                    <label for="cardNumber">Card Number</label>
                                    <input type="text" id="cardNumber" name="cardNumber" placeholder="1234 5678 9012 3456" class="input-text">
                                </div>
                                <div class="form-group-row">
                                    <div class="form-group">
                                        <label for="expiryDate">Expiry Date</label>
                                        <input type="text" id="expiryDate" name="expiryDate" placeholder="MM/YY" class="input-text">
                                    </div>
                                    <div class="form-group">
                                        <label for="cvv">CVV</label>
                                        <input type="text" id="cvv" name="cvv" placeholder="123" class="input-text">
                                    </div>
                                </div>
                                <div class="form-group-full-width">
                                    <label for="cardName">Name on Card</label>
                                    <input type="text" id="cardName" name="cardName" value="Juan Dela Cruz" class="input-text">
                                </div>
                            </div>
                        </div>

                        <div class="e-wallet-details-section" id="eWalletDetailsSection" style="display: none;">
                            <h3 class="payment-card-title" id="eWalletTitle">GCash Payment</h3>
                            
                            <div class="card-input-group">
                                <div class="form-group-full-width">
                                    <label for="mobileNumber">Mobile Number</label>
                                    <div class="input-icon-wrapper">
                                        <span class="input-icon phone-icon"></span>
                                        <input type="text" id="mobileNumber" name="mobileNumber" placeholder="+63 917 123 4567" class="input-text input-disabled" disabled>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group-row" style="justify-content: space-between; margin-top: 30px;">
                            <button type="button" class="btn-previous" onclick="prevStep()">Previous</button>
                            <button type="submit" class="btn-complete-booking">Complete Booking</button> 
                        </div>
                    </form>
                </div>
            </div>

            <div class="sidebar-content">
                <div class="selected-vehicle-card">
                    <div class="card-header-vehicle">
                        <svg class="icon-car-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7 16V17C7 17.5523 7.44772 18 8 18H16C16.5523 18 17 17.5523 17 17V16M19 16.5H5C4.44772 16.5 4 16.0523 4 15.5V11.875C4 11.6449 4.08984 11.4243 4.24835 11.2658L5.95251 9.56165C6.11102 9.40314 6.33157 9.3132 6.56165 9.3132H17.4384C17.6684 9.3132 17.889 9.40314 18.0475 9.56165L19.7517 11.2658C19.9102 11.4243 20 11.6449 20 11.875V15.5C20 16.0523 19.5523 16.5 19 16.5Z" stroke="#101828" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <circle cx="7.5" cy="14" r="1.5" fill="#101828"/>
                            <circle cx="16.5" cy="14" r="1.5" fill="#101828"/>
                        </svg>
                        <h3>Selected Vehicle</h3>
                    </div>
                    <div class="vehicle-details">
                        <img src="img/INNOVA.jpg" alt="Toyota Innova" class="vehicle-image"> 
                        <div class="vehicle-info">
                            <h4>Toyota Innova</h4>
                            <p class="vehicle-type">MPV</p>
                            <div class="vehicle-specs-compact">
                                <span>8 Seats</span> 
                                <span>Automatic</span>
                                <span>AC</span>
                            </div>
                            <p class="vehicle-price">₱900/day</p> 
                        </div>
                    </div>
                </div>
                
                <div class="booking-summary-card">
                    <h4 class="card-title-summary">Booking Summary</h4>
                    <div class="summary-line">
                        <span>Daily Rate</span>
                        <span>₱900</span> 
                    </div>
                    <div class="summary-line">
                        <span>Number of Days</span>
                        <span>1</span>
                    </div>
                    <div class="summary-line subtotal-line">
                        <span>Subtotal</span>
                        <span>₱900</span> 
                    </div>
                    <div class="summary-line total-line">
                        <span>Total</span>
                        <span class="price-total">₱900</span> 
                    </div>
                </div>

                <div class="need-help-card">
                    <h4 class="card-title-help">Need Help?</h4>
                    <div class="contact-line">
                        <span class="icon-phone">📞</span>
                        <span>+63 917 123 4567</span>
                    </div>
                    <div class="contact-line">
                        <span class="icon-mail">📧</span>
                        <span>support@paramsaken.com</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-container">
            <div class="footer-about">
                <div class="footer-logo-text">
                    <img src="img/logowhiteransparent.png" alt="Param Saken Logo" class="footer-logo">
                    <span class="footer-brand">Param Saken</span>
                </div>
                <p>
                    Your trusted car rental partner in Pampanga. Providing reliable, affordable vehicle rentals
                    for all your transportation needs across Central Luzon.
                </p>
                <div class="footer-socials">
                    <a href="#"><img src="img/fbfooter.png" alt="Facebook"></a>
                    <a href="#"><img src="img/twitterfooter.png" alt="Twitter"></a>
                    <a href="#"><img src="img/instagramfooter.png" alt="Instagram"></a>
                </div>
            </div>

            <div class="footer-contact">
                <h4>Contact Us</h4>
                <ul>
                    <li><img src="img/contactfooter.png" alt="Phone"> +63 917 123 4567</li>
                    <li><img src="img/inboxfooter.png" alt="Email"> info@paramsaken.com</li>
                    <li><img src="img/locationfooter.png" alt="Location"> 123 Main Street, Angeles City, Pampanga</li>
                </ul>
            </div>

            <div class="footer-links">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="#">Fleet</a></li>
                    <li><a href="#">Booking</a></li>
                    <li><a href="#">Terms & Conditions</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p>© 2025 Param Saken Car Rental. All rights reserved.</p>
        </div>
    </footer>
    
    <div id="confirmationModal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close-btn" onclick="closeModal()">&times;</span>
            <div class="confirmation-message">
                <div class="check-icon-circle">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 7L9 18L4 13" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <h3>Booking confirmed successfully!</h3>
                <p>Your Toyota Innova has been reserved. Booking reference: **#PS684027**</p> 
            </div>
            <button class="btn-modal-done" onclick="closeModal()">Done</button>
        </div>
    </div>


    <script>
        let currentStep = 1; // Track the current active step

        // Helper function to update the step indicator based on the current step number
        function updateStepIndicator(stepNumber) {
            currentStep = stepNumber; // Update global currentStep
            const totalSteps = 3;
            const labels = [
                'Step 1 of 3: Rental Details',
                'Step 2 of 3: Customer Details',
                'Step 3 of 3: Payment Confirmation'
            ];

            // Update Label
            document.getElementById('stepLabel').innerText = labels[currentStep - 1];

            // Update Circles and Lines
            for (let i = 1; i <= totalSteps; i++) {
                const circle = document.getElementById(`stepCircle${i}`);
                const line = document.getElementById(`stepLine${i}`); 

                // 1. Reset Classes
                circle.classList.remove('step-active', 'step-completed');
                if (line) {
                    line.classList.remove('step-line-completed');
                }

                // 2. Apply New Classes
                if (i === currentStep) {
                    // Current Step
                    circle.classList.add('step-active');
                } else if (i < currentStep) {
                    // Completed Step
                    circle.classList.add('step-completed');
                }

                // 3. Apply Completed Line Style
                if (i < currentStep && line) {
                    line.classList.add('step-line-completed');
                }
            }
        }

        function nextStep() {
            // Basic validation check (can be expanded)

            if (currentStep === 1) {
                document.getElementById('step1').style.display = 'none';
                document.getElementById('step2').style.display = 'block';
                updateStepIndicator(2);
            } else if (currentStep === 2) {
                document.getElementById('step2').style.display = 'none';
                document.getElementById('step3').style.display = 'block';
                updateStepIndicator(3);
                // Ensure payment details are toggled correctly when entering step 3
                togglePaymentDetails(); 
            }
        }

        function prevStep() {
            if (currentStep === 2) {
                document.getElementById('step2').style.display = 'none';
                document.getElementById('step1').style.display = 'block';
                updateStepIndicator(1);
            } else if (currentStep === 3) {
                document.getElementById('step3').style.display = 'none';
                document.getElementById('step2').style.display = 'block';
                updateStepIndicator(2);
            }
        }

        // Function to toggle card details or e-wallet details section
        function togglePaymentDetails() {
            const cardSection = document.getElementById('cardDetailsSection');
            const eWalletSection = document.getElementById('eWalletDetailsSection');
            const eWalletTitle = document.getElementById('eWalletTitle');
            const mobileNumberInput = document.getElementById('mobileNumber');
            
            const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
            
            const cardInputs = cardSection.querySelectorAll('input');

            // --- Logic to handle visibility and input state ---

            if (paymentMethod === 'card') {
                // Show Card Details, Hide E-Wallet
                cardSection.style.display = 'block';
                eWalletSection.style.display = 'none';
                
                // Enable Card Inputs
                cardInputs.forEach(input => {
                    input.disabled = false;
                    input.classList.remove('input-disabled');
                });
                // Disable E-Wallet Input
                mobileNumberInput.disabled = true;
                mobileNumberInput.classList.add('input-disabled');

            } else if (paymentMethod === 'gcash' || paymentMethod === 'paymaya') {
                // Show E-Wallet, Hide Card Details
                cardSection.style.display = 'none';
                eWalletSection.style.display = 'block';
                
                // Update title based on selection
                eWalletTitle.innerText = (paymentMethod === 'gcash') ? 'GCash Payment' : 'PayMaya Payment';

                // Disable Card Inputs
                cardInputs.forEach(input => {
                    input.disabled = true;
                    input.classList.add('input-disabled');
                });
                // Enable E-Wallet Input
                mobileNumberInput.disabled = false;
                mobileNumberInput.classList.remove('input-disabled');

            } else { // banktransfer
                // Hide both detailed sections
                cardSection.style.display = 'none';
                eWalletSection.style.display = 'none';
                
                // Disable all inputs
                cardInputs.forEach(input => {
                    input.disabled = true;
                    input.classList.add('input-disabled');
                });
                mobileNumberInput.disabled = true;
                mobileNumberInput.classList.add('input-disabled');
            }
        }
        
        // --- MODAL FUNCTIONS ---

        // Function to show the modal (called on form submission)
        function showModal(event) {
            // Prevent the default form submission (which would refresh the page)
            event.preventDefault(); 
            
            document.getElementById('confirmationModal').style.display = 'block';
        }

        // Function to close the modal
        function closeModal() {
            document.getElementById('confirmationModal').style.display = 'none';
            
            // Optional: Redirect the user or reset the booking form here
            // window.location.href = 'index.html'; 
        }

        // Close the modal if the user clicks anywhere outside of it
        window.onclick = function(event) {
            const modal = document.getElementById('confirmationModal');
            if (event.target === modal) {
                closeModal();
            }
        }


        // Initialize the indicator and attach submit handler on page load
        document.addEventListener('DOMContentLoaded', () => {
            updateStepIndicator(1);
            
            // Get the form inside step 3 and attach the new submit handler
            const step3Form = document.getElementById('step3').querySelector('.rental-form');
            step3Form.addEventListener('submit', showModal);

            // Set the initial state of payment details
            togglePaymentDetails();
        });
    </script>
</body>
</html>